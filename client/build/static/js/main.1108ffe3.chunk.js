(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){e.exports=a(271)},110:function(e,t,a){},111:function(e,t,a){},149:function(e,t){},151:function(e,t){},168:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(60),o=a.n(l),c=(a(110),a(10)),s=a(1),m=a(8),i=function(){if("undefined"!==window)return!!sessionStorage.getItem("token")&&JSON.parse(sessionStorage.getItem("token"))},u=function(){if("undefined"!==window)return!!sessionStorage.getItem("user")&&JSON.parse(sessionStorage.getItem("user"))},p=(a(111),Object(s.g)((function(e){var t=e.history;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item pr-3 pt-3 pb-3"},r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("li",{className:"nav-item pr-3 pt-3 pb-3"},r.a.createElement(c.b,{to:"/create"},"Create a Blog Post")),!u()&&r.a.createElement("li",{className:"nav-item ml-auto pr-3 pt-3 pb-3"},r.a.createElement(c.b,{to:"/login"},"Login")),u()&&r.a.createElement("li",{onClick:function(){return e=function(){return t.push("/")},"undefined"!==window&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("user")),void e();var e},className:"nav-item ml-auto pr-3 pt-3 pb-3",style:{cursor:"pointer"}},"Logout")))}))),d=a(7),b=a.n(d),E=a(43),g=a.n(E),f=(a(168),function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],o=function(){b.a.get("".concat("https://mern-blog-api-mx4q.onrender.com/api","/posts")).then((function(e){l(e.data)})).catch((function(e){return alert("Error in fetching posts")}))};Object(n.useEffect)((function(){o()}),[]);var s=function(e){b.a.delete("".concat("https://mern-blog-api-mx4q.onrender.com/api","/post/").concat(e),{headers:{authorization:"Bearer ".concat(i())}}).then((function(e){alert(e.data.message),o()})).catch((function(e){return alert("Error deleting post")}))};return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement("h1",{className:"title"},"ValueBlog"),r.a.createElement("h5",{className:"tagline"},"Value for your Time"),r.a.createElement("hr",null),a.map((function(e,t){return r.a.createElement("div",{className:"row",key:e._id,style:{borderBottom:"1px solid yellow"}},r.a.createElement("div",{className:"col pt-3 pb-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement(c.b,{to:"/post/".concat(e.slug)},r.a.createElement("h2",null,e.title)),r.a.createElement("div",{className:"lead pt-3"},g()(e.content.substring(0,500))),r.a.createElement("p",null,"Author ",r.a.createElement("span",{className:"badge"},e.user)," Published on"," ",r.a.createElement("span",{className:"badge"},new Date(e.createdAt).toLocaleString()))),u()&&r.a.createElement("div",{className:"col-md-2"},r.a.createElement(c.b,{to:"/post/update/".concat(e.slug),className:"btn btn-sm btn-outline-warning"},"Update"),r.a.createElement("button",{onClick:function(){return t=e.slug,void(window.confirm("Press OK if you want to delete this post?")&&s(t));var t},className:"btn btn-sm btn-outline-danger ml-1"},"Delete")))))})))}),h=a(16),v=a(3),N=a(44),O=a.n(N),j=(a(102),a(268),{toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]}),w=function(){var e=Object(n.useState)({title:"",user:u()}),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(m.a)(o,2),s=c[0],d=c[1],E=a.title,g=a.user,f=function(e){return function(t){l(Object(v.a)(Object(v.a)({},a),{},Object(h.a)({},e,t.target.value)))}};return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement("h1",null,"CREATE POST"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b.a.post("".concat("https://mern-blog-api-mx4q.onrender.com/api","/post"),{title:E,content:s,user:g},{headers:{authorization:"Bearer ".concat(i())}}).then((function(e){console.log(e),l(Object(v.a)(Object(v.a)({},a),{},{title:"",user:""})),d(""),alert("".concat(e.data.title," blog post is created"))})).catch((function(e){console.log(e.response),alert(e.response.data.error)}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title"),r.a.createElement("input",{onChange:f("title"),value:E,type:"text",className:"form-control",placeholder:"Post title",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Content"),r.a.createElement(O.a,{modules:j,onChange:function(e){console.log(e),d(e)},value:s,theme:"snow",className:"",placeholder:"Write something..",style:{border:"1px solid yellow"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"User"),r.a.createElement("input",{onChange:f("user"),value:g,type:"text",className:"form-control",placeholder:"Your name",required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-outline-warning"},"Create"))))},x=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){b.a.get("".concat("https://mern-blog-api-mx4q.onrender.com/api","/post/").concat(e.match.params.slug)).then((function(e){return o(e.data)})).catch((function(e){return alert("Error")}))}),[]);return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(p,null),l&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 offset-md-2 pt-3 pb-2"},r.a.createElement("h1",null,l.title),r.a.createElement("div",{className:"lead pt-3"},g()(l.content)),r.a.createElement("p",null,"Author ",r.a.createElement("span",{className:"badge"},l.user)," Published on"," ",r.a.createElement("span",{className:"badge"},new Date(l.createdAt).toLocaleString())))))},S=(a(269),{toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]}),y=function(e){var t=Object(n.useState)({title:"",slug:"",user:""}),a=Object(m.a)(t,2),l=a[0],o=a[1],c=l.title,s=l.slug,u=l.user,d=Object(n.useState)(""),E=Object(m.a)(d,2),g=E[0],f=E[1],N=function(e){console.log(e),f(e)};Object(n.useEffect)((function(){b.a.get("".concat("https://mern-blog-api-mx4q.onrender.com/api","/post/").concat(e.match.params.slug)).then((function(e){var t=e.data,a=t.title,n=t.content,r=t.slug,c=t.user;o(Object(v.a)(Object(v.a)({},l),{},{title:a,slug:r,user:c})),f(n)})).catch((function(e){return alert("Error loading single post")}))}),[]);var j=function(e){return function(t){o(Object(v.a)(Object(v.a)({},l),{},Object(h.a)({},e,t.target.value)))}},w=function(e){e.preventDefault(),b.a.put("".concat("https://mern-blog-api-mx4q.onrender.com/api","/post/").concat(s),{title:c,content:g,user:u},{headers:{authorization:"Bearer ".concat(i())}}).then((function(e){console.log(e);var t=e.data,a=t.title,n=t.content,r=t.slug,c=t.user;o(Object(v.a)(Object(v.a)({},l),{},{title:a,content:n,slug:r,user:c})),alert("".concat(a," blog post is updated"))})).catch((function(e){console.log(e.response),alert(e.response.data.error)}))};return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement("h1",null,"UPDATE POST"),r.a.createElement("form",{onSubmit:w},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title"),r.a.createElement("input",{onChange:j("title"),value:c,type:"text",className:"form-control",placeholder:"Post title",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Content"),r.a.createElement(O.a,{modules:S,onChange:N,value:g,theme:"snow",className:"",placeholder:"Write something..",style:{border:"1px solid silver"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"User"),r.a.createElement("input",{onChange:j("user"),value:u,type:"text",className:"form-control",placeholder:"Your name",required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-outline-warning"},"Update"))))},k=(a(270),Object(s.g)((function(e){var t=Object(n.useState)({name:"",password:""}),a=Object(m.a)(t,2),l=a[0],o=a[1],c=l.name,s=l.password;Object(n.useEffect)((function(){u()&&e.history.push("/")}),[]);var i=function(e){return function(t){o(Object(v.a)(Object(v.a)({},l),{},Object(h.a)({},e,t.target.value)))}};return r.a.createElement("div",{className:"container pb-5"},r.a.createElement(p,null),r.a.createElement("br",null),r.a.createElement("h1",null,"LOGIN"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.table({name:c,password:s}),b.a.post("".concat("https://mern-blog-api-mx4q.onrender.com/api","/login"),{name:c,password:s}).then((function(t){console.log(t),function(e,t){"undefined"!==window&&(sessionStorage.setItem("token",JSON.stringify(e.data.token)),sessionStorage.setItem("user",JSON.stringify(e.data.name))),t()}(t,(function(){return e.history.push("/create")}))})).catch((function(e){console.log(e.response),alert(e.response.data.error)}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:i("name"),value:c,type:"text",className:"form-control",placeholder:"Your Name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:i("password"),value:s,type:"password",className:"form-control",placeholder:"Your Password",required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-outline-warning"},"Login"))))}))),q=a(104),C=["component"],P=function(e){var t=e.component,a=Object(q.a)(e,C);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return u()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},I=function(){return r.a.createElement(c.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:f}),r.a.createElement(P,{path:"/create",exact:!0,component:w}),r.a.createElement(s.b,{path:"/login",exact:!0,component:k}),r.a.createElement(s.b,{path:"/post/:slug",exact:!0,component:x}),r.a.createElement(P,{path:"/post/update/:slug",exact:!0,component:y})))};o.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.1108ffe3.chunk.js.map