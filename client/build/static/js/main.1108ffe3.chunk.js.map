{"version":3,"sources":["helpers.js","Nav.js","App.js","Create.js","SinglePost.js","UpdatePost.js","Login.js","PrivateRoute.js","Routes.js","index.js"],"names":["getToken","window","sessionStorage","getItem","JSON","parse","getUser","withRouter","history","className","to","onClick","next","push","removeItem","style","cursor","App","useState","posts","setPosts","fetchPosts","axios","get","process","then","response","data","catch","error","alert","useEffect","deletePost","slug","delete","headers","authorization","message","map","post","i","key","_id","borderBottom","title","renderHTML","content","substring","user","Date","createdAt","toLocaleString","confirm","modules","toolbar","font","header","color","background","script","list","indent","align","Create","state","setState","setContent","handleChange","name","event","target","value","onSubmit","preventDefault","console","log","onChange","type","placeholder","required","theme","border","SinglePost","props","setPost","match","params","UpdatePost","handleContent","handleSubmit","put","password","table","setItem","stringify","token","authenticate","PrivateRoute","Component","component","rest","render","pathname","from","location","Routes","path","exact","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1108ffe3.chunk.js","sourcesContent":["// save login  reponse > (user's name and token) to session storage\nexport const authenticate = (response, next) => {\n    if (window !== 'undefined') {\n        // console.log('authenticate', response)\n        sessionStorage.setItem('token', JSON.stringify(response.data.token));\n        sessionStorage.setItem('user', JSON.stringify(response.data.name));\n    }\n    next();\n};\n\n// access token name from session storage\nexport const getToken = () => {\n    if (window !== 'undefined') {\n        if (sessionStorage.getItem('token')) {\n            return JSON.parse(sessionStorage.getItem('token'));\n        } else {\n            return false;\n        }\n    }\n};\n\n// access user name from session storage\nexport const getUser = () => {\n    if (window !== 'undefined') {\n        if (sessionStorage.getItem('user')) {\n            return JSON.parse(sessionStorage.getItem('user'));\n        } else {\n            return false;\n        }\n    }\n};\n\n// remove token from session storage\nexport const logout = next => {\n    if (window !== 'undefined') {\n        sessionStorage.removeItem('token');\n        sessionStorage.removeItem('user');\n    }\n    next();\n};\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getUser, logout } from \"./helpers\";\nimport \"./Nav.css\";\n\nconst Nav = ({ history }) => (\n  <nav>\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item pr-3 pt-3 pb-3\">\n        <Link to=\"/\">Home</Link>\n      </li>\n      <li className=\"nav-item pr-3 pt-3 pb-3\">\n        <Link to=\"/create\">Create a Blog Post</Link>\n      </li>\n\n      {!getUser() && (\n        <li className=\"nav-item ml-auto pr-3 pt-3 pb-3\">\n          <Link to=\"/login\">Login</Link>\n        </li>\n      )}\n\n      {getUser() && (\n        <li\n          onClick={() => logout(() => history.push(\"/\"))}\n          className=\"nav-item ml-auto pr-3 pt-3 pb-3\"\n          style={{ cursor: \"pointer\" }}\n        >\n          Logout\n        </li>\n      )}\n    </ul>\n  </nav>\n);\n\nexport default withRouter(Nav);\n","import React, { useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport renderHTML from \"react-render-html\";\nimport { getUser, getToken } from \"./helpers\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [posts, setPosts] = useState([]);\n\n  const fetchPosts = () => {\n    axios\n      .get(`${process.env.REACT_APP_API}/posts`)\n      .then((response) => {\n        // console.log(response);\n        setPosts(response.data);\n      })\n      .catch((error) => alert(\"Error in fetching posts\"));\n  };\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const deleteConfirm = (slug) => {\n    let answer = window.confirm(\"Press OK if you want to delete this post?\");\n    if (answer) {\n      deletePost(slug);\n    }\n  };\n\n  const deletePost = (slug) => {\n    // console.log('delete', slug, ' post');\n    axios\n      .delete(`${process.env.REACT_APP_API}/post/${slug}`, {\n        headers: {\n          authorization: `Bearer ${getToken()}`,\n        },\n      })\n      .then((response) => {\n        alert(response.data.message);\n        fetchPosts();\n      })\n      .catch((error) => alert(\"Error deleting post\"));\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1 className=\"title\">ValueBlog</h1>\n      <h5 className=\"tagline\">Value for your Time</h5>\n      <hr />\n      {posts.map((post, i) => (\n        <div\n          className=\"row\"\n          key={post._id}\n          style={{ borderBottom: \"1px solid yellow\" }}\n        >\n          <div className=\"col pt-3 pb-2\">\n            <div className=\"row\">\n              <div className=\"col-md-10\">\n                <Link to={`/post/${post.slug}`}>\n                  <h2>{post.title}</h2>\n                </Link>\n                <div className=\"lead pt-3\">\n                  {renderHTML(post.content.substring(0, 500))}\n                </div>\n                <p>\n                  Author <span className=\"badge\">{post.user}</span> Published on{\" \"}\n                  <span className=\"badge\">\n                    {new Date(post.createdAt).toLocaleString()}\n                  </span>\n                </p>\n              </div>\n\n              {getUser() && (\n                <div className=\"col-md-2\">\n                  <Link\n                    to={`/post/update/${post.slug}`}\n                    className=\"btn btn-sm btn-outline-warning\"\n                  >\n                    Update\n                  </Link>\n                  <button\n                    onClick={() => deleteConfirm(post.slug)}\n                    className=\"btn btn-sm btn-outline-danger ml-1\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport ReactQuill from \"react-quill\";\nimport { getUser, getToken } from \"./helpers\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./Create.css\";\nconst modules = {\n  toolbar: [\n    [{ font: [] }],\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    [\"bold\", \"italic\", \"underline\", \"strike\"],\n    [{ color: [] }, { background: [] }],\n    [{ script: \"sub\" }, { script: \"super\" }],\n    [\"blockquote\", \"code-block\"],\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\n    [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\n    [\"link\", \"image\", \"video\"],\n    [\"clean\"],\n  ],\n};\nconst Create = () => {\n  // state\n  const [state, setState] = useState({\n    title: \"\",\n    user: getUser(),\n  });\n  const [content, setContent] = useState(\"\");\n\n  // rich text editor handle change\n  const handleContent = (event) => {\n    console.log(event);\n    setContent(event);\n  };\n\n  // destructure values from state\n  const { title, user } = state;\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // console.table({ title, content, user });\n    axios\n      .post(\n        `${process.env.REACT_APP_API}/post`,\n        { title, content, user },\n        {\n          headers: {\n            authorization: `Bearer ${getToken()}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response);\n        // empty state\n        setState({ ...state, title: \"\", user: \"\" });\n        setContent(\"\");\n        // show success alert\n        alert(`${response.data.title} blog post is created`);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>CREATE POST</h1>\n      <br />\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Title</label>\n          <input\n            onChange={handleChange(\"title\")}\n            value={title}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Post title\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Content</label>\n          <ReactQuill\n            modules={modules}\n            onChange={handleContent}\n            value={content}\n            theme=\"snow\"\n            className=\"\"\n            placeholder=\"Write something..\"\n            style={{ border: \"1px solid yellow\" }}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">User</label>\n          <input\n            onChange={handleChange(\"user\")}\n            value={user}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Your name\"\n            required\n          />\n        </div>\n        <div>\n          <button className=\"btn btn-sm btn-outline-warning\">Create</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Create;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport renderHTML from \"react-render-html\";\n\nconst SinglePost = (props) => {\n  const [post, setPost] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\n      .then((response) => setPost(response.data))\n      .catch((error) => alert(\"Error\"));\n  }, []);\n\n  const showSinglePost = () => (\n    <div className=\"row\">\n      <div className=\"col-md-8 offset-md-2 pt-3 pb-2\">\n        <h1>{post.title}</h1>\n        <div className=\"lead pt-3\">{renderHTML(post.content)}</div>\n        <p>\n          Author <span className=\"badge\">{post.user}</span> Published on{\" \"}\n          <span className=\"badge\">\n            {new Date(post.createdAt).toLocaleString()}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      {post && showSinglePost()}\n    </div>\n  );\n};\n\nexport default SinglePost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport ReactQuill from \"react-quill\";\nimport { getToken } from \"./helpers\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./UpdatePost.css\";\nconst modules = {\n  toolbar: [\n    [{ font: [] }],\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    [\"bold\", \"italic\", \"underline\", \"strike\"],\n    [{ color: [] }, { background: [] }],\n    [{ script: \"sub\" }, { script: \"super\" }],\n    [\"blockquote\", \"code-block\"],\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\n    [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\n    [\"link\", \"image\", \"video\"],\n    [\"clean\"],\n  ],\n};\nconst UpdatePost = (props) => {\n  const [state, setState] = useState({\n    title: \"\",\n    slug: \"\",\n    user: \"\",\n  });\n  const { title, slug, user } = state;\n\n  const [content, setContent] = useState(\"\");\n\n  // rich text editor handle change\n  const handleContent = (event) => {\n    console.log(event);\n    setContent(event);\n  };\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\n      .then((response) => {\n        const { title, content, slug, user } = response.data;\n        setState({ ...state, title, slug, user });\n        setContent(content);\n      })\n      .catch((error) => alert(\"Error loading single post\"));\n  }, []);\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // console.table({ title, content, user });\n    axios\n      .put(\n        `${process.env.REACT_APP_API}/post/${slug}`,\n        { title, content, user },\n        {\n          headers: {\n            authorization: `Bearer ${getToken()}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response);\n        const { title, content, slug, user } = response.data;\n        // empty state\n        setState({ ...state, title, content, slug, user });\n        // show sucess alert\n        alert(`${title} blog post is updated`);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  const showUpdateForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Title</label>\n        <input\n          onChange={handleChange(\"title\")}\n          value={title}\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Post title\"\n          required\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Content</label>\n        <ReactQuill\n          modules={modules}\n          onChange={handleContent}\n          value={content}\n          theme=\"snow\"\n          className=\"\"\n          placeholder=\"Write something..\"\n          style={{ border: \"1px solid silver\" }}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">User</label>\n        <input\n          onChange={handleChange(\"user\")}\n          value={user}\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Your name\"\n          required\n        />\n      </div>\n      <div>\n        <button className=\"btn btn-sm btn-outline-warning\">Update</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>UPDATE POST</h1>\n      {showUpdateForm()}\n    </div>\n  );\n};\n\nexport default UpdatePost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Nav from \"./Nav\";\nimport { authenticate, getUser } from \"./helpers\";\nimport \"./Login.css\";\n\nconst Login = (props) => {\n  // create a state\n  const [state, setState] = useState({\n    name: \"\",\n    password: \"\",\n  });\n  const { name, password } = state; // destructure values from state\n\n  useEffect(() => {\n    getUser() && props.history.push(\"/\");\n  }, []);\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.table({ name, password });\n    axios\n      .post(`${process.env.REACT_APP_API}/login`, { name, password })\n      .then((response) => {\n        console.log(response);\n        // response will contain token and name\n        authenticate(response, () => props.history.push(\"/create\"));\n        // redirect to create page\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>LOGIN</h1>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Name</label>\n          <input\n            onChange={handleChange(\"name\")}\n            value={name}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Your Name\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Password</label>\n          <input\n            onChange={handleChange(\"password\")}\n            value={password}\n            type=\"password\"\n            className=\"form-control\"\n            placeholder=\"Your Password\"\n            required\n          />\n        </div>\n        <div>\n          <button className=\"btn btn-sm btn-outline-warning\">Login</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getUser } from './helpers';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            getUser() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport App from './App';\nimport Create from './Create';\nimport SinglePost from './SinglePost';\nimport UpdatePost from './UpdatePost';\nimport Login from './Login';\nimport PrivateRoute from './PrivateRoute';\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={App} />\n                <PrivateRoute path=\"/create\" exact component={Create} />\n                <Route path=\"/login\" exact component={Login} />\n                <Route path=\"/post/:slug\" exact component={SinglePost} />\n                <PrivateRoute path=\"/post/update/:slug\" exact component={UpdatePost} />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}