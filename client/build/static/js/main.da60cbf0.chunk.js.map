{"version":3,"sources":["helpers.js","Nav.js","App.js","Create.js","SinglePost.js","UpdatePost.js","Login.js","PrivateRoute.js","Routes.js","index.js"],"names":["getToken","window","sessionStorage","getItem","JSON","parse","getUser","withRouter","history","className","to","onClick","next","push","removeItem","style","cursor","App","useState","posts","setPosts","fetchPosts","axios","get","process","REACT_APP_API","then","response","data","catch","error","alert","useEffect","deletePost","slug","delete","headers","authorization","message","map","post","i","key","_id","borderBottom","title","renderHTML","content","substring","user","Date","createdAt","toLocaleString","confirm","modules","toolbar","font","header","color","background","script","list","indent","align","Create","state","setState","setContent","handleChange","name","event","target","value","onSubmit","preventDefault","console","log","onChange","type","placeholder","required","theme","border","SinglePost","props","setPost","match","params","UpdatePost","handleContent","handleSubmit","put","password","table","setItem","stringify","token","authenticate","PrivateRoute","Component","component","rest","render","pathname","from","location","Routes","path","exact","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.da60cbf0.chunk.js","sourcesContent":["// save login  reponse > (user's name and token) to session storage\nexport const authenticate = (response, next) => {\n    if (window !== 'undefined') {\n        // console.log('authenticate', response)\n        sessionStorage.setItem('token', JSON.stringify(response.data.token));\n        sessionStorage.setItem('user', JSON.stringify(response.data.name));\n    }\n    next();\n};\n\n// access token name from session storage\nexport const getToken = () => {\n    if (window !== 'undefined') {\n        if (sessionStorage.getItem('token')) {\n            return JSON.parse(sessionStorage.getItem('token'));\n        } else {\n            return false;\n        }\n    }\n};\n\n// access user name from session storage\nexport const getUser = () => {\n    if (window !== 'undefined') {\n        if (sessionStorage.getItem('user')) {\n            return JSON.parse(sessionStorage.getItem('user'));\n        } else {\n            return false;\n        }\n    }\n};\n\n// remove token from session storage\nexport const logout = next => {\n    if (window !== 'undefined') {\n        sessionStorage.removeItem('token');\n        sessionStorage.removeItem('user');\n    }\n    next();\n};\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { getUser, logout } from \"./helpers\";\nimport \"./Nav.css\";\n\nconst Nav = ({ history }) => (\n  <nav>\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item pr-3 pt-3 pb-3\">\n        <Link to=\"/\">Home</Link>\n      </li>\n      <li className=\"nav-item pr-3 pt-3 pb-3\">\n        <Link to=\"/create\">Create a Blog Post</Link>\n      </li>\n\n      {!getUser() && (\n        <li className=\"nav-item ml-auto pr-3 pt-3 pb-3\">\n          <Link to=\"/login\">Login</Link>\n        </li>\n      )}\n\n      {getUser() && (\n        <li\n          onClick={() => logout(() => history.push(\"/\"))}\n          className=\"nav-item ml-auto pr-3 pt-3 pb-3\"\n          style={{ cursor: \"pointer\" }}\n        >\n          Logout\n        </li>\n      )}\n    </ul>\n  </nav>\n);\n\nexport default withRouter(Nav);\n","import React, { useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport renderHTML from \"react-render-html\";\nimport { getUser, getToken } from \"./helpers\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [posts, setPosts] = useState([]);\n\n  const fetchPosts = () => {\n    axios\n      .get(`${process.env.REACT_APP_API}/posts`)\n      .then((response) => {\n        // console.log(response);\n        setPosts(response.data);\n      })\n      .catch((error) => alert(\"Error in fetching posts\"));\n  };\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const deleteConfirm = (slug) => {\n    let answer = window.confirm(\"Press OK if you want to delete this post?\");\n    if (answer) {\n      deletePost(slug);\n    }\n  };\n\n  const deletePost = (slug) => {\n    // console.log('delete', slug, ' post');\n    axios\n      .delete(`${process.env.REACT_APP_API}/post/${slug}`, {\n        headers: {\n          authorization: `Bearer ${getToken()}`,\n        },\n      })\n      .then((response) => {\n        alert(response.data.message);\n        fetchPosts();\n      })\n      .catch((error) => alert(\"Error deleting post\"));\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1 className=\"title\">ValueBlog</h1>\n      <h5 className=\"tagline\">Value for your Time</h5>\n      <hr />\n      {posts.map((post, i) => (\n        <div\n          className=\"row\"\n          key={post._id}\n          style={{ borderBottom: \"1px solid yellow\" }}\n        >\n          <div className=\"col pt-3 pb-2\">\n            <div className=\"row\">\n              <div className=\"col-md-10\">\n                <Link to={`/post/${post.slug}`}>\n                  <h2>{post.title}</h2>\n                </Link>\n                <div className=\"lead pt-3\">\n                  {renderHTML(post.content.substring(0, 500))}\n                </div>\n                <p>\n                  Author <span className=\"badge\">{post.user}</span> Published on{\" \"}\n                  <span className=\"badge\">\n                    {new Date(post.createdAt).toLocaleString()}\n                  </span>\n                </p>\n              </div>\n\n              {getUser() && (\n                <div className=\"col-md-2\">\n                  <Link\n                    to={`/post/update/${post.slug}`}\n                    className=\"btn btn-sm btn-outline-warning\"\n                  >\n                    Update\n                  </Link>\n                  <button\n                    onClick={() => deleteConfirm(post.slug)}\n                    className=\"btn btn-sm btn-outline-danger ml-1\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport ReactQuill from \"react-quill\";\nimport { getUser, getToken } from \"./helpers\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./Create.css\";\nconst modules = {\n  toolbar: [\n    [{ font: [] }],\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    [\"bold\", \"italic\", \"underline\", \"strike\"],\n    [{ color: [] }, { background: [] }],\n    [{ script: \"sub\" }, { script: \"super\" }],\n    [\"blockquote\", \"code-block\"],\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\n    [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\n    [\"link\", \"image\", \"video\"],\n    [\"clean\"],\n  ],\n};\nconst Create = () => {\n  // state\n  const [state, setState] = useState({\n    title: \"\",\n    user: getUser(),\n  });\n  const [content, setContent] = useState(\"\");\n\n  // rich text editor handle change\n  const handleContent = (event) => {\n    console.log(event);\n    setContent(event);\n  };\n\n  // destructure values from state\n  const { title, user } = state;\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // console.table({ title, content, user });\n    axios\n      .post(\n        `${process.env.REACT_APP_API}/post`,\n        { title, content, user },\n        {\n          headers: {\n            authorization: `Bearer ${getToken()}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response);\n        // empty state\n        setState({ ...state, title: \"\", user: \"\" });\n        setContent(\"\");\n        // show success alert\n        alert(`${response.data.title} blog post is created`);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>CREATE POST</h1>\n      <br />\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Title</label>\n          <input\n            onChange={handleChange(\"title\")}\n            value={title}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Post title\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Content</label>\n          <ReactQuill\n            modules={modules}\n            onChange={handleContent}\n            value={content}\n            theme=\"snow\"\n            className=\"\"\n            placeholder=\"Write something..\"\n            style={{ border: \"1px solid yellow\" }}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">User</label>\n          <input\n            onChange={handleChange(\"user\")}\n            value={user}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Your name\"\n            required\n          />\n        </div>\n        <div>\n          <button className=\"btn btn-sm btn-outline-warning\">Create</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Create;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport renderHTML from \"react-render-html\";\n\nconst SinglePost = (props) => {\n  const [post, setPost] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\n      .then((response) => setPost(response.data))\n      .catch((error) => alert(\"Error\"));\n  }, []);\n\n  const showSinglePost = () => (\n    <div className=\"row\">\n      <div className=\"col-md-8 offset-md-2 pt-3 pb-2\">\n        <h1>{post.title}</h1>\n        <div className=\"lead pt-3\">{renderHTML(post.content)}</div>\n        <p>\n          Author <span className=\"badge\">{post.user}</span> Published on{\" \"}\n          <span className=\"badge\">\n            {new Date(post.createdAt).toLocaleString()}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      {post && showSinglePost()}\n    </div>\n  );\n};\n\nexport default SinglePost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"./Nav\";\nimport ReactQuill from \"react-quill\";\nimport { getToken } from \"./helpers\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./UpdatePost.css\";\nconst modules = {\n  toolbar: [\n    [{ font: [] }],\n    [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    [\"bold\", \"italic\", \"underline\", \"strike\"],\n    [{ color: [] }, { background: [] }],\n    [{ script: \"sub\" }, { script: \"super\" }],\n    [\"blockquote\", \"code-block\"],\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\n    [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\n    [\"link\", \"image\", \"video\"],\n    [\"clean\"],\n  ],\n};\nconst UpdatePost = (props) => {\n  const [state, setState] = useState({\n    title: \"\",\n    slug: \"\",\n    user: \"\",\n  });\n  const { title, slug, user } = state;\n\n  const [content, setContent] = useState(\"\");\n\n  // rich text editor handle change\n  const handleContent = (event) => {\n    console.log(event);\n    setContent(event);\n  };\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API}/post/${props.match.params.slug}`)\n      .then((response) => {\n        const { title, content, slug, user } = response.data;\n        setState({ ...state, title, slug, user });\n        setContent(content);\n      })\n      .catch((error) => alert(\"Error loading single post\"));\n  }, []);\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // console.table({ title, content, user });\n    axios\n      .put(\n        `${process.env.REACT_APP_API}/post/${slug}`,\n        { title, content, user },\n        {\n          headers: {\n            authorization: `Bearer ${getToken()}`,\n          },\n        }\n      )\n      .then((response) => {\n        console.log(response);\n        const { title, content, slug, user } = response.data;\n        // empty state\n        setState({ ...state, title, content, slug, user });\n        // show sucess alert\n        alert(`${title} blog post is updated`);\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  const showUpdateForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Title</label>\n        <input\n          onChange={handleChange(\"title\")}\n          value={title}\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Post title\"\n          required\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Content</label>\n        <ReactQuill\n          modules={modules}\n          onChange={handleContent}\n          value={content}\n          theme=\"snow\"\n          className=\"\"\n          placeholder=\"Write something..\"\n          style={{ border: \"1px solid silver\" }}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">User</label>\n        <input\n          onChange={handleChange(\"user\")}\n          value={user}\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Your name\"\n          required\n        />\n      </div>\n      <div>\n        <button className=\"btn btn-sm btn-outline-warning\">Update</button>\n      </div>\n    </form>\n  );\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>UPDATE POST</h1>\n      {showUpdateForm()}\n    </div>\n  );\n};\n\nexport default UpdatePost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Nav from \"./Nav\";\nimport { authenticate, getUser } from \"./helpers\";\nimport \"./Login.css\";\n\nconst Login = (props) => {\n  // create a state\n  const [state, setState] = useState({\n    name: \"\",\n    password: \"\",\n  });\n  const { name, password } = state; // destructure values from state\n\n  useEffect(() => {\n    getUser() && props.history.push(\"/\");\n  }, []);\n\n  // onchange event handler\n  const handleChange = (name) => (event) => {\n    // console.log('name', name, 'event', event.target.value);\n    setState({ ...state, [name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.table({ name, password });\n    axios\n      .post(`${process.env.REACT_APP_API}/login`, { name, password })\n      .then((response) => {\n        console.log(response);\n        // response will contain token and name\n        authenticate(response, () => props.history.push(\"/create\"));\n        // redirect to create page\n      })\n      .catch((error) => {\n        console.log(error.response);\n        alert(error.response.data.error);\n      });\n  };\n\n  return (\n    <div className=\"container pb-5\">\n      <Nav />\n      <br />\n      <h1>LOGIN</h1>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Name</label>\n          <input\n            onChange={handleChange(\"name\")}\n            value={name}\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Your Name\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label className=\"text-muted\">Password</label>\n          <input\n            onChange={handleChange(\"password\")}\n            value={password}\n            type=\"password\"\n            className=\"form-control\"\n            placeholder=\"Your Password\"\n            required\n          />\n        </div>\n        <div>\n          <button className=\"btn btn-sm btn-outline-warning\">Login</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getUser } from './helpers';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            getUser() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport App from './App';\nimport Create from './Create';\nimport SinglePost from './SinglePost';\nimport UpdatePost from './UpdatePost';\nimport Login from './Login';\nimport PrivateRoute from './PrivateRoute';\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={App} />\n                <PrivateRoute path=\"/create\" exact component={Create} />\n                <Route path=\"/login\" exact component={Login} />\n                <Route path=\"/post/:slug\" exact component={SinglePost} />\n                <PrivateRoute path=\"/post/update/:slug\" exact component={UpdatePost} />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}